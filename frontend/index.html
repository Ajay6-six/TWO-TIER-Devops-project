<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Catering Services - Premium Events & Venues</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #d4af37;
            --secondary: #1a1a1a;
            --dark: #0a0a0a;
            --light: #f5f5f5;
            --gray: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--dark);
            color: var(--light);
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            background: rgba(10, 10, 10, 0.95);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            letter-spacing: 2px;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 500;
        }

        nav a:hover {
            color: var(--primary);
        }

        .mobile-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .mobile-toggle span {
            width: 25px;
            height: 3px;
            background: var(--primary);
            margin: 3px 0;
            transition: 0.3s;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), 
                        url('https://images.unsplash.com/photo-1555244162-803834f70033?w=1600') center/cover;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-top: 60px;
        }

        .hero-content h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--primary);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: var(--light);
        }

        .btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: var(--primary);
            color: var(--dark);
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
            border: 2px solid var(--primary);
            cursor: pointer;
            font-size: 1rem;
        }

        .btn:hover {
            background: transparent;
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: var(--dark);
        }

        /* Section Styles */
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        h2 {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 2rem;
            text-align: center;
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .service-card {
            background: var(--gray);
            padding: 2rem;
            border-radius: 10px;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .service-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.2);
        }

        .service-card h3 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .service-card ul {
            list-style: none;
            margin-top: 1rem;
        }

        .service-card li {
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .service-card li:before {
            content: "‚úì ";
            color: var(--primary);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        /* Form Styles */
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--gray);
            padding: 2rem;
            border-radius: 10px;
            border: 2px solid rgba(212, 175, 55, 0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--primary);
            font-weight: 600;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.8rem;
            background: var(--secondary);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 5px;
            color: var(--light);
            font-size: 1rem;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.2);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .error {
            color: #ff4444;
            font-size: 0.9rem;
            margin-top: 0.3rem;
        }

        .success-message {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border: 1px solid #4caf50;
            display: none;
        }

        /* Features Section */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature {
            text-align: center;
            padding: 2rem;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .about-image {
            width: 100%;
            height: 400px;
            background: url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800') center/cover;
            border-radius: 10px;
            border: 3px solid var(--primary);
        }

        /* Contact Section */
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .contact-item {
            text-align: center;
            padding: 1.5rem;
            background: var(--gray);
            border-radius: 10px;
        }

        .contact-item h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* Footer */
        footer {
            background: var(--secondary);
            padding: 2rem;
            text-align: center;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
        }

        /* Admin Panel */
        .admin-panel {
            background: var(--gray);
            padding: 2rem;
            border-radius: 10px;
            margin-top: 2rem;
        }

        .booking-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .booking-table th,
        .booking-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .booking-table th {
            background: var(--secondary);
            color: var(--primary);
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .status-confirmed {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }

        .status-cancelled {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul {
                position: absolute;
                top: 60px;
                left: -100%;
                flex-direction: column;
                background: rgba(10, 10, 10, 0.98);
                width: 100%;
                padding: 2rem;
                transition: 0.3s;
            }

            nav ul.active {
                left: 0;
            }

            .mobile-toggle {
                display: flex;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1.2rem;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="#" class="logo" onclick="showPage('home')">ELITE CATERING</a>
            <div class="mobile-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul id="nav-menu">
                <li><a href="#" onclick="showPage('home')">Home</a></li>
                <li><a href="#" onclick="showPage('services')">Services</a></li>
                <li><a href="#" onclick="showPage('book')">Book Now</a></li>
                <li><a href="#" onclick="showPage('about')">About</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
                <li><a href="#" onclick="showPage('admin')">Admin</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home" class="page active">
        <div class="hero">
            <div class="hero-content">
                <h1>Elite Catering Services</h1>
                <p>Creating Unforgettable Culinary Experiences</p>
                <a href="#" class="btn" onclick="showPage('book')">Book Your Event</a>
            </div>
        </div>

        <section>
            <h2>Why Choose Us</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">üë®‚Äçüç≥</div>
                    <h3>Expert Chefs</h3>
                    <p>Professional culinary team with years of experience</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üé≠</div>
                    <h3>Premium Venues</h3>
                    <p>State-of-the-art auditoriums for any occasion</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">‚≠ê</div>
                    <h3>Quality Service</h3>
                    <p>Exceptional attention to detail and customer care</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üçΩÔ∏è</div>
                    <h3>Custom Menus</h3>
                    <p>Tailored culinary solutions for your event</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Services Page -->
    <div id="services" class="page">
        <section style="margin-top: 80px;">
            <h2>Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Corporate Catering</h3>
                    <p>Professional catering solutions for business events, meetings, and conferences.</p>
                    <ul>
                        <li>Business Meetings</li>
                        <li>Corporate Events</li>
                        <li>Product Launches</li>
                        <li>Team Building</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>Wedding Catering</h3>
                    <p>Make your special day unforgettable with our premium wedding catering services.</p>
                    <ul>
                        <li>Custom Menus</li>
                        <li>Buffet Service</li>
                        <li>Plated Dinners</li>
                        <li>Cocktail Receptions</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>Auditorium Rental</h3>
                    <p>Premium venue spaces perfect for any occasion or gathering.</p>
                    <ul>
                        <li>Capacity: 50-500 guests</li>
                        <li>A/V Equipment</li>
                        <li>Stage & Lighting</li>
                        <li>Flexible Seating</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>Private Events</h3>
                    <p>Intimate gatherings with personalized service and attention to detail.</p>
                    <ul>
                        <li>Birthday Parties</li>
                        <li>Anniversary Celebrations</li>
                        <li>Family Gatherings</li>
                        <li>Holiday Parties</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>Catering Staff</h3>
                    <p>Professional staff to ensure seamless event execution.</p>
                    <ul>
                        <li>Expert Chefs</li>
                        <li>Servers & Bartenders</li>
                        <li>Event Coordinators</li>
                        <li>Setup & Cleanup Crew</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>Full Package</h3>
                    <p>Complete event solution combining venue, catering, and staff.</p>
                    <ul>
                        <li>Venue Rental</li>
                        <li>Gourmet Catering</li>
                        <li>Professional Staff</li>
                        <li>Event Planning</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <!-- Book Service Page -->
    <div id="book" class="page">
        <section style="margin-top: 80px;">
            <h2>Book Your Event</h2>
            <div class="form-container">
                <div class="success-message" id="success-message"></div>
                <form id="booking-form">
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" required>
                        <div class="error" id="name-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                        <div class="error" id="email-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                        <div class="error" id="phone-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="service_type">Service Type *</label>
                        <select id="service_type" name="service_type" required>
                            <option value="">Select a service</option>
                            <option value="catering">Catering Only</option>
                            <option value="auditorium">Auditorium Only</option>
                            <option value="both">Catering + Auditorium</option>
                        </select>
                        <div class="error" id="service-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="date">Event Date *</label>
                        <input type="date" id="date" name="date" required>
                        <div class="error" id="date-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="time">Event Time *</label>
                        <input type="time" id="time" name="time" required>
                        <div class="error" id="time-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="number_of_people">Number of Guests *</label>
                        <input type="number" id="number_of_people" name="number_of_people" min="1" required>
                        <div class="error" id="guests-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="special_requirements">Special Requirements</label>
                        <textarea id="special_requirements" name="special_requirements" placeholder="Dietary restrictions, special requests, etc."></textarea>
                    </div>

                    <button type="submit" class="btn" style="width: 100%;">Submit Booking</button>
                </form>
            </div>
        </section>
    </div>

    <!-- About Page -->
    <div id="about" class="page">
        <section style="margin-top: 80px;">
            <h2>About Elite Catering</h2>
            <div class="about-content">
                <div class="about-image"></div>
                <div>
                    <h3 style="color: var(--primary); font-size: 2rem; margin-bottom: 1rem;">Our Story</h3>
                    <p style="margin-bottom: 1rem;">
                        Elite Catering Services has been setting the standard for premium catering and event management for over 15 years. Our passion for culinary excellence and attention to detail has made us the preferred choice for discerning clients.
                    </p>
                    <p style="margin-bottom: 1rem;">
                        We combine traditional cooking techniques with modern culinary innovation to create memorable dining experiences. Our team of expert chefs and event coordinators work tirelessly to ensure every event exceeds expectations.
                    </p>
                    <p style="margin-bottom: 1rem;">
                        From intimate gatherings to large corporate events, we bring the same level of dedication and professionalism to every occasion. Our state-of-the-art facilities and experienced staff ensure seamless execution from start to finish.
                    </p>
                    <a href="#" class="btn" onclick="showPage('contact')">Get in Touch</a>
                </div>
            </div>
        </section>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page">
        <section style="margin-top: 80px;">
            <h2>Contact Us</h2>
            
            <div class="contact-info">
                <div class="contact-item">
                    <h3>üìû Phone</h3>
                    <p>+1 (555) 123-4567</p>
                </div>
                <div class="contact-item">
                    <h3>üìß Email</h3>
                    <p>info@elitecatering.com</p>
                </div>
                <div class="contact-item">
                    <h3>üìç Address</h3>
                    <p>123 Culinary Street<br>Gourmet City, GC 12345</p>
                </div>
                <div class="contact-item">
                    <h3>üïê Hours</h3>
                    <p>Mon-Sat: 9AM-8PM<br>Sunday: Closed</p>
                </div>
            </div>

            <div class="form-container">
                <div class="success-message" id="contact-success"></div>
                <form id="contact-form">
                    <div class="form-group">
                        <label for="contact-name">Name *</label>
                        <input type="text" id="contact-name" required>
                    </div>

                    <div class="form-group">
                        <label for="contact-email">Email *</label>
                        <input type="email" id="contact-email" required>
                    </div>

                    <div class="form-group">
                        <label for="subject">Subject *</label>
                        <input type="text" id="subject" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" required></textarea>
                    </div>

                    <button type="submit" class="btn" style="width: 100%;">Send Message</button>
                </form>
            </div>
        </section>
    </div>

    <!-- Admin Page -->
    <div id="admin" class="page">
        <section style="margin-top: 80px;">
            <h2>Admin Dashboard</h2>
            
            <div class="form-container" id="admin-login" style="max-width: 400px;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Admin Login</h3>
                <form id="admin-login-form">
                    <div class="form-group">
                        <label for="admin-username">Username</label>
                        <input type="text" id="admin-username" required>
                    </div>
                    <div class="form-group">
                        <label for="admin-password">Password</label>
                        <input type="password" id="admin-password" required>
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">Login</button>
                </form>
                <p style="margin-top: 1rem; font-size: 0.9rem; color: #888;">Demo: username: admin, password: admin123</p>
            </div>

            <div class="admin-panel" id="admin-panel" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h3 style="color: var(--primary);">All Bookings</h3>
                    <button class="btn btn-secondary" onclick="logout()">Logout</button>
                </div>
                
                <div style="overflow-x: auto;">
                    <table class="booking-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Service</th>
                                <th>Date</th>
                                <th>Guests</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookings-list">
                            <tr>
                                <td colspan="8" style="text-align: center;">Loading bookings...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>&copy; 2024 Elite Catering Services. All rights reserved.</p>
        <p>Crafting exceptional culinary experiences since 2009</p>
    </footer>

  <script>
    const API_URL = 'http://13.201.52.232:5000/api';

    // Page Navigation
    function showPage(pageName) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        document.getElementById(pageName).classList.add('active');
        window.scrollTo(0, 0);
    }

    // Mobile Menu Toggle
    function toggleMenu() {
        document.getElementById('nav-menu').classList.toggle('active');
    }

    // Form Validation
    function validateEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function validatePhone(phone) {
        return /^[\d\s\-\+\(\)]+$/.test(phone);
    }

    // Booking Form Submission
    document.getElementById('booking-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        document.querySelectorAll('.error').forEach(err => err.textContent = '');
        
        const formData = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            service_type: document.getElementById('service_type').value,
            date: document.getElementById('date').value,
            time: document.getElementById('time').value,
            number_of_people: document.getElementById('number_of_people').value,
            special_requirements: document.getElementById('special_requirements').value
        };

        let isValid = true;

        if (formData.name.length < 2) {
            document.getElementById('name-error').textContent = 'Please enter a valid name';
            isValid = false;
        }

        if (!validateEmail(formData.email)) {
            document.getElementById('email-error').textContent = 'Please enter a valid email';
            isValid = false;
        }

        if (!validatePhone(formData.phone)) {
            document.getElementById('phone-error').textContent = 'Please enter a valid phone number';
            isValid = false;
        }

        if (!isValid) return;

        try {
            const response = await fetch(`${API_URL}/book`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });

            const result = await response.json();

            if (result.success) {
                const successMsg = document.getElementById('success-message');
                successMsg.textContent = `‚úì ${result.message}`;
                successMsg.style.display = 'block';
                document.getElementById('booking-form').reset();
                
                setTimeout(() => successMsg.style.display = 'none', 5000);
            } else {
                alert('Error: ' + result.error);
            }
        } catch (error) {
            alert('Booking submitted! (Backend not connected)');
            document.getElementById('booking-form').reset();
        }
    });

    // Contact Form Submission
    document.getElementById('contact-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const formData = {
            name: document.getElementById('contact-name').value,
            email: document.getElementById('contact-email').value,
            subject: document.getElementById('subject').value,
            message: document.getElementById('message').value
        };

        try {
            const response = await fetch(`${API_URL}/contact`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });

            const result = await response.json();

            if (result.success) {
                const successMsg = document.getElementById('contact-success');
                successMsg.textContent = `‚úì ${result.message}`;
                successMsg.style.display = 'block';
                document.getElementById('contact-form').reset();
                
                setTimeout(() => successMsg.style.display = 'none', 5000);
            }
        } catch (error) {
            alert('Message sent! (Backend not connected)');
            document.getElementById('contact-form').reset();
        }
    });

    // Admin Login
    document.getElementById('admin-login-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const credentials = {
            username: document.getElementById('admin-username').value,
            password: document.getElementById('admin-password').value
        };

        try {
            const response = await fetch(`${API_URL}/admin/login`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(credentials)
            });

            const result = await response.json();

            if (result.success) {
                document.getElementById('admin-login').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                loadBookings();
            } else {
                alert('Invalid credentials');
            }
        } catch (error) {
            if (credentials.username === 'admin' && credentials.password === 'admin123') {
                document.getElementById('admin-login').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                loadDemoBookings();
            } else {
                alert('Invalid credentials');
            }
        }
    });

    // Load Bookings
    async function loadBookings() {
        try {
            const response = await fetch(`${API_URL}/bookings`);
            const result = await response.json();

            if (result.success) {
                displayBookings(result.bookings);
            }
        } catch (error) {
            loadDemoBookings();
        }
    }

    // Demo Bookings (fallback)
    function loadDemoBookings() {
        const demoBookings = [
            { id: 1, name: 'John Smith', email: 'john@example.com', phone: '+1-555', service_type: 'both', date: '2025-12-01', time: '18:00', number_of_people: 150, status: 'confirmed' },
            { id: 2, name: 'Sarah', email: 'sarah@example.com', phone: '+1-555', service_type: 'catering', date: '2025-12-02', time: '19:00', number_of_people: 70, status: 'pending' }
        ];
        displayBookings(demoBookings);
    }

    // Display bookings
    function displayBookings(bookings) {
        const tbody = document.getElementById('bookings-list');
        
        if (bookings.length === 0) {
            tbody.innerHTML = '<tr><td colspan="8" style="text-align:center">No bookings found</td></tr>';
            return;
        }

        tbody.innerHTML = bookings.map(booking => `
            <tr>
                <td>${booking.id}</td>
                <td>${booking.name}</td>
                <td>${booking.email}</td>
                <td>${booking.service_type}</td>
                <td>${booking.date}</td>
                <td>${booking.number_of_people}</td>
                <td><span class="status-badge status-${booking.status}">${booking.status}</span></td>
                <td>
                    <select onchange="updateBookingStatus(${booking.id}, this.value)">
                        <option value="">Update Status</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                    <button onclick="deleteBooking(${booking.id})">Delete</button>
                </td>
            </tr>
        `).join('');
    }

    // ‚≠ê FIXED: Update Booking Status
    async function updateBookingStatus(bookingId, status) {
        if (!status) return;

        try {
            const response = await fetch(`${API_URL}/update_status`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ id: bookingId, status })
            });

            const result = await response.json();

            if (result.success) {
                alert("Status updated successfully!");
                loadBookings();
            }
        } catch (error) {
            alert("Status updated! (Backend not connected)");
            loadDemoBookings();
        }
    }

    // Delete booking
    async function deleteBooking(bookingId) {
        if (!confirm('Are you sure?')) return;

        try {
            const response = await fetch(`${API_URL}/bookings/${bookingId}`, { method: 'DELETE' });
            const result = await response.json();

            if (result.success) {
                alert("Booking deleted!");
                loadBookings();
            }
        } catch (error) {
            alert("Booking deleted! (Backend not connected)");
            loadDemoBookings();
        }
    }

    // Logout
    function logout() {
        document.getElementById('admin-panel').style.display = 'none';
        document.getElementById('admin-login').style.display = 'block';
        document.getElementById('admin-login-form').reset();
    }

    document.getElementById('date').setAttribute('min', new Date().toISOString().split('T')[0]);
</script>
